# 夫婦向けレシピ・献立共有アプリ 要件定義書

## 1. 概要
夫婦間でレシピを共有し、献立を一緒に計画・管理できるWebアプリケーション

## 2. ユースケース

### 2.1 メインユースケース
1. **夫婦でアプリにペアリング登録**
   - 一方がペアリングコードを生成
   - もう一方がコードを入力して連携完了

2. **レシピの共有・管理**
   - InstagramやYouTubeで見つけたレシピをURL付きで登録
   - フォルダ分類（「簡単で美味い」「手間かかるけど美味い」など）で整理
   - パートナーとリアルタイム共有

3. **献立計画**
   - カレンダーで昼・夜の献立を計画
   - 登録済みレシピから選択して割り当て
   - お互いの予定や希望をコメントで共有

4. **日常利用**
   - 「今日何食べる？」の相談をアプリ上で
   - 作った料理の記録やメモ
   - 継続的な献立管理

### 2.2 具体的な利用シーン
- **平日夜**: 翌日の昼食や夕食をサクッと決める
- **週末**: 1週間分の献立をまとめて計画
- **レシピ発見時**: SNSで見つけたレシピを即座に保存・共有
- **買い物前**: 献立を確認して必要な材料をチェック

## 3. 主要機能

### 3.1 認証・ペアリング機能
- **匿名認証**: Supabaseの匿名認証を使用した簡単ログイン
- **ペアリング機能**: 6桁のペアリングコードによる夫婦間の連携
  - 片方がコードを生成
  - もう片方がコードを入力して連携
- **自動同期**: ペア登録後は自動的にデータが同期される

### 3.2 レシピ管理機能
- **レシピ登録**: タイトル、説明、レシピURL（Instagram/YouTube等）、調理時間、人数を管理
- **レシピ編集**: 登録済みレシピの修正・更新
- **レシピ削除**: 不要なレシピの削除
- **レシピ検索**: タイトルによる検索機能
- **フォルダ分類機能**: 自由なラベル付けでレシピを整理
  - 例：「簡単で美味い」「手間かかるけど美味い」「パーティー用」「平日向け」など
  - ユーザーが自由にフォルダ名を設定可能
  - 複数フォルダへの登録も可能

### 3.3 献立カレンダー機能
- **月間カレンダー**: 1ヶ月の献立を一覧表示
- **献立登録**: 日付とタイミング（昼・夜）でレシピを割り当て
- **献立編集**: 登録済み献立の変更・削除
- **コメント機能**: 各日付に簡単なメモやコメントを追加
- **継続利用**: 無限に使い続けられる設計

### 3.4 買い物メモ機能（将来拡張）
- **手動追加**: 必要な商品を手動で追加
- **完了管理**: 購入済みアイテムのチェック機能
- **共有**: ペア間でのリアルタイム共有

## 4. UI/UX要件

### 4.1 デザイン方針
- **モダンでシンプル**: 清潔感のある洗練されたデザイン
- **レスポンシブ**: スマートフォン・タブレット・PC対応
- **直感的**: 説明不要で操作できるUX
- **温かみのある配色**: 食事・家族を連想させるカラーパレット

### 4.2 カラーパレット
- **プライマリー**: #E85A4F (温かみのある赤)
- **セカンダリー**: #C5C5C5 (上品なグレー)
- **アクセント**: #4F8BE8 (信頼感のある青)
- **背景**: #FAFAFA (明るく清潔な白)
- **テキスト**: #333333 (読みやすい濃いグレー)

### 4.3 レイアウト
- **ヘッダー**: ロゴ、ペア状態、設定ボタン
- **ナビゲーション**: レシピ一覧、献立カレンダー
- **メインコンテンツ**: 各機能の表示エリア
- **フッター**: 著作権情報

## 5. 技術仕様

### 5.1 フロントエンド
- **HTML5**: セマンティックなマークアップ
- **CSS3**: Flexbox/Grid、アニメーション、レスポンシブデザイン
- **Vanilla JavaScript**: モダンなES6+記法、非同期処理

### 5.2 バックエンド
- **Supabase**: BaaS（Backend as a Service）
- **PostgreSQL**: データベース
- **Row Level Security**: データ保護機能

### 5.3 認証
- **Supabase Auth**: 匿名認証
- **カスタムペアリング**: 6桁コードによる夫婦連携システム

## 6. データベース設計

### 6.1 テーブル構成

#### users（ユーザー）
- id: UUID (Primary Key)
- auth_id: TEXT (Supabase Auth ID)
- display_name: TEXT
- pair_code: TEXT (6桁のペアリングコード)
- paired_with: UUID (ペア相手のuser_id)
- created_at: TIMESTAMP
- updated_at: TIMESTAMP

#### recipe_folders（レシピフォルダ）
- id: UUID (Primary Key)
- user_id: UUID (作成者)
- name: TEXT (フォルダ名)
- color: TEXT (フォルダの色)
- created_at: TIMESTAMP
- updated_at: TIMESTAMP

#### recipes（レシピ）
- id: UUID (Primary Key)
- user_id: UUID (作成者)
- title: TEXT (レシピ名)
- description: TEXT (説明)
- recipe_url: TEXT (Instagram/YouTube等のURL)
- cooking_time: INTEGER (調理時間・分)
- servings: INTEGER (人数)
- created_at: TIMESTAMP
- updated_at: TIMESTAMP

#### recipe_folder_relations（レシピとフォルダの関連）
- id: UUID (Primary Key)
- recipe_id: UUID (レシピID)
- folder_id: UUID (フォルダID)
- created_at: TIMESTAMP

#### meal_plans（献立）
- id: UUID (Primary Key)
- user_id: UUID
- date: DATE (献立日)
- meal_type: TEXT (lunch/dinner)
- recipe_id: UUID (レシピID)
- notes: TEXT (メモ)
- created_at: TIMESTAMP

### 6.2 Row Level Security (RLS)
- 各テーブルでユーザー本人またはペア相手のみがアクセス可能
- レシピ、献立、フォルダは夫婦間で共有

## 7. 画面設計

### 7.1 初期画面・ペアリング
- ペア状態の確認
- ペアリングコード生成・入力
- ペア解除機能

### 7.2 レシピ一覧画面
- レシピカード一覧表示
- フォルダによる分類表示
- 検索・フィルター機能
- 新規レシピ作成ボタン
- フォルダ管理機能

### 7.3 レシピ詳細・編集画面
- レシピ情報の表示・編集
- レシピURLの表示・リンク
- フォルダへの追加・削除
- 献立への追加ボタン

### 7.4 献立カレンダー画面
- 月間カレンダー表示
- 日別献立の表示・編集（昼・夜）
- レシピの割り当て機能
- コメント追加・編集

### 7.5 フォルダ管理画面
- フォルダ一覧表示
- フォルダ作成・編集・削除
- フォルダ内レシピの表示

## 8. 非機能要件

### 8.1 パフォーマンス
- 初回表示: 3秒以内
- 画面遷移: 1秒以内
- データ同期: リアルタイム

### 8.2 セキュリティ
- データの暗号化
- ペア間でのみデータ共有
- 不正アクセス防止

### 8.3 可用性
- 99%以上の稼働率
- オフライン時の基本機能利用

## 9. ファイル構成
- `index.html` - メインのHTMLファイル
- `styles.css` - スタイルシート
- `script.js` - JavaScriptファイル
- `project-notes.md` - 開発メモ
- `package.json` - プロジェクト設定

## 10. 今後の拡張予定
- 買い物メモ機能
- レシピの共有機能（SNS連携）
- 栄養価計算機能
- 予算管理機能
- レシピレコメンド機能
- 音声入力対応
# Vercel Redeploy Trigger 2025年 7月31日 木曜日 10時41分53秒 JST
# Auto-deploy test 2025年 7月31日 木曜日 13時14分43秒 JST
